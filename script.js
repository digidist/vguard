const translations = {
  hr: {
    "contact-description":
      "Za upite, zahtjeve za ponude ili moguÄ‡nosti suradnje, obratite nam se koristeÄ‡i dolje navedene kontakt podatke.",
    "contact-title": "Kontaktirajte nas",
    "contact-company-heading": "ðŸ¢ Tvrtka",
    "contact-address-heading": "ðŸ“ Adresa",
    "contact-oib-heading": "ðŸ”¢ OIB",
    "contact-phone-heading": "ðŸ“ž Telefon",
    "contact-email-heading": "ðŸ“§ Email",
    "company-name": "VANGUARD SYSTEMS",
    "company-tagline": "VaÅ¡a vizija, naÅ¡a misija.",
    "hero-title": "Profesionalne elektro-instalacijske usluge",
    "hero-description": "Donosimo izvrsnost u elektriÄnim rjeÅ¡enjima",
    "cta-button": "ZatraÅ¾ite ponudu",
    "about-title": "O Vanguard Systems-u",
    "services-title": "NaÅ¡e usluge",
    "service-commercial-title": "Komercijalni projekti",
    "service-commercial-description":
      "Profesionalna elektriÄna rjeÅ¡enja za tvrtke svih veliÄina. Od planiranja do instalacije, naÅ¡ struÄni tim osigurava sigurnost, pouzdanost i dugoroÄno zadovoljstvo u vaÅ¡im poslovnim prostorima.",
    "service-industrial-title": "Industrijska rjeÅ¡enja",
    "service-industrial-description":
      "Napredne elektriÄne usluge za industrijske objekte i operacije. Nudimo prilagoÄ‘ena rjeÅ¡enja za sloÅ¾ene industrijske potrebe, osiguravajuÄ‡i maksimalnu uÄinkovitost i usklaÄ‘enost sa standardima.",
    "subcontracting-title": "Podugovaranje usluga",
    "subcontracting-description":
      "Nudimo profesionalne podugovaraÄke usluge za elektriÄne instalacije u NjemaÄkoj. NaÅ¡ tim ukljuÄuje visoko kvalificirane elektriÄare s velikim iskustvom u njemaÄkim standardima i propisima, osiguravajuÄ‡i nesmetanu integraciju i izvrsne rezultate.",
    "about-description":
      "Vanguard Systems je vodeÄ‡a tvrtka za elektro-instalacije posveÄ‡ena pruÅ¾anju visokokvalitetnih usluga naÅ¡im klijentima.",
    "close-button": "x",
    "modal-title": "Detalji o web stranici",
    "modal-description":
      "Dizajnirao i implementirao Digital Distributed d.o.o.",
    "modal-contact":
      "TraÅ¾ite profesionalnu i personaliziranu web stranicu? Kontaktirajte nas na",
    "modal-email": "digitaldistributed@outlook.com",
    "modal-footer":
      "Tu smo da vam pomognemo oÅ¾ivjeti vaÅ¡e ideje s modernim i korisniÄki prilagoÄ‘enim dizajnima. Stvorimo neÅ¡to nevjerojatno zajedno!",
  },
  en: {
    "contact-description":
      "For inquiries, requests for quotes, or collaboration opportunities, reach out to us for a quote using the contact details below.",
    "contact-title": "Contact Us",
    "contact-company-heading": "ðŸ¢ Company",
    "contact-address-heading": "ðŸ“ Address",
    "contact-oib-heading": "ðŸ”¢ OIB",
    "contact-phone-heading": "ðŸ“ž Phone",
    "contact-email-heading": "ðŸ“§ Email",
    "company-name": "VANGUARD SYSTEMS",
    "company-tagline": "Your vision, our mission.",
    "hero-title": "Professional Electro-Installation Services",
    "hero-description": "Delivering Excellence in Electrical Solutions",
    "cta-button": "Get a Quote",
    "about-title": "About Vanguard Systems",
    "services-title": "Our Services",
    "service-commercial-title": "Commercial Projects",
    "service-commercial-description":
      "Professional electrical solutions for businesses of all sizes. From planning to installation, our expert team ensures safety, reliability, and long-term satisfaction in your commercial spaces.",
    "service-industrial-title": "Industrial Solutions",
    "service-industrial-description":
      "Advanced electrical services for industrial facilities and operations. We provide tailored solutions for complex industrial needs, ensuring maximum efficiency and compliance with standards.",
    "subcontracting-title": "Subcontracting Services",
    "subcontracting-description":
      "We offer professional subcontracting services for electrical installations in Germany. Our team includes highly skilled electricians with extensive experience in German standards and regulations, ensuring smooth integration and outstanding results.",
    "about-description":
      "Vanguard Systems is a leading electro-installation company committed to delivering high-quality services to our clients.",
    "close-button": "x",
    "modal-title": "Website Details",
    "modal-description":
      "Designed and implemented by Digital Distributed d.o.o.",
    "modal-contact":
      "Looking for a professional and personalized website? Reach out to us at",
    "modal-email": "digitaldistributed@outlook.com",
    "modal-footer":
      "Weâ€™re here to help you bring your ideas to life with modern, user-friendly designs. Letâ€™s create something amazing together!",
  },
  de: {
    "contact-description":
      "FÃ¼r Anfragen, Angebotsanforderungen oder KooperationsmÃ¶glichkeiten kontaktieren Sie uns bitte Ã¼ber die unten angegebenen Kontaktdaten.",
    "contact-title": "Kontaktieren Sie uns",
    "contact-company-heading": "ðŸ¢ Unternehmen",
    "contact-address-heading": "ðŸ“ Adresse",
    "contact-oib-heading": "ðŸ”¢ OIB",
    "contact-phone-heading": "ðŸ“ž Telefon",
    "contact-email-heading": "ðŸ“§ Email",
    "company-name": "VANGUARD SYSTEMS",
    "company-tagline": "Ihre Vision, unsere Mission.",
    "hero-title": "Professionelle Elektroinstallationsdienste",
    "hero-description": "Exzellenz in elektrischen LÃ¶sungen liefern",
    "cta-button": "Ein Angebot erhalten",
    "about-title": "Ãœber Vanguard Systems",
    "services-title": "Unsere Dienstleistungen",
    "service-commercial-title": "Gewerbliche Projekte",
    "service-commercial-description":
      "Professionelle elektrische LÃ¶sungen fÃ¼r Unternehmen jeder GrÃ¶ÃŸe. Von der Planung bis zur Installation sorgt unser Expertenteam fÃ¼r Sicherheit, ZuverlÃ¤ssigkeit und langfristige Zufriedenheit in Ihren GeschÃ¤ftsrÃ¤umen.",
    "service-industrial-title": "Industrielle LÃ¶sungen",
    "service-industrial-description":
      "Fortschrittliche elektrische Dienstleistungen fÃ¼r Industrieanlagen und -betriebe. Wir bieten maÃŸgeschneiderte LÃ¶sungen fÃ¼r komplexe industrielle Anforderungen und gewÃ¤hrleisten maximale Effizienz und Einhaltung von Standards.",
    "subcontracting-title": "Subunternehmerleistungen",
    "subcontracting-description":
      "Wir bieten professionelle Subunternehmerleistungen fÃ¼r Elektroinstallationen in Deutschland an. Unser Team umfasst hochqualifizierte Elektriker mit umfangreicher Erfahrung in deutschen Standards und Vorschriften, die eine reibungslose Integration und herausragende Ergebnisse gewÃ¤hrleisten.",
    "about-description":
      "Vanguard Systeme ist ein fÃ¼hrendes Unternehmen fÃ¼r Elektroinstallationen, das sich der Bereitstellung hochwertiger Dienstleistungen fÃ¼r unsere Kunden verpflichtet hat.",
    "close-button": "x",
    "modal-title": "Webseitendetails",
    "modal-description":
      "Entworfen und umgesetzt von Digital Distributed d.o.o.",
    "modal-contact":
      "Suchen Sie nach einer professionellen und personalisierten Website? Kontaktieren Sie uns unter",
    "modal-email": "digitaldistributed@outlook.com",
    "modal-footer":
      "Wir helfen Ihnen, Ihre Ideen mit modernen, benutzerfreundlichen Designs zum Leben zu erwecken. Lassen Sie uns etwas GroÃŸartiges schaffen!",
  },
};

const languageDropdown = document.getElementById("language-dropdown");

function setLanguage(language) {
  const elements = document.querySelectorAll("[data-lang-key]");
  elements.forEach((element) => {
    const key = element.getAttribute("data-lang-key");
    if (translations[language] && translations[language][key]) {
      element.textContent = translations[language][key];
    }
  });
}

const userLang = navigator.language.slice(0, 2);
setLanguage(translations[userLang] ? userLang : "en");

document.addEventListener("DOMContentLoaded", () => {
  const observerOptions = {
    threshold: 0.2, // Trigger animation when 20% of the element is visible
  };

  const fadeElements = document.querySelectorAll(".fade-in, .slide-in");

  const observer = new IntersectionObserver((entries, observer) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("fade-in-visible", "slide-in-visible");
        observer.unobserve(entry.target); // Stop observing once the animation has triggered
      }
    });
  }, observerOptions);

  fadeElements.forEach((el) => observer.observe(el));

  // Detect the default language and update the dropdown value
  const userLang = navigator.language.slice(0, 2);
  const defaultLang = translations[userLang] ? userLang : "en";
  setLanguage(defaultLang);
  languageDropdown.value = defaultLang; // Ensure the dropdown reflects the detected language
});

languageDropdown.addEventListener("change", (e) => {
  setLanguage(e.target.value);
});

document.addEventListener("DOMContentLoaded", () => {
  const modal = document.getElementById("design-modal");
  const modalLink = document.getElementById("design-info-link");
  const closeButton = document.querySelector(".close-button");

  // Ensure modal is hidden on page load
  modal.style.display = "none";

  // Function to show the modal with animation
  const showModal = () => {
    modal.style.display = "flex"; // Flex for proper centering
    setTimeout(() => {
      modal.classList.add("modal-visible");
    }, 10); // Delay for smooth animation
  };

  // Function to hide the modal with animation
  const hideModal = () => {
    modal.classList.remove("modal-visible");
    setTimeout(() => {
      modal.style.display = "none";
    }, 300); // Match the animation duration in CSS
  };

  // Show modal when link is clicked
  modalLink.addEventListener("click", (event) => {
    event.preventDefault();
    showModal();
  });

  // Close modal when the close button is clicked
  closeButton.addEventListener("click", hideModal);

  // Close modal when clicking outside the modal content
  window.addEventListener("click", (event) => {
    if (event.target === modal) {
      hideModal();
    }
  });
});
